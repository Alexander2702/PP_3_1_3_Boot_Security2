<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<html xmlns="http://www.w3.org/1999/xhtml">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin page</title>

    <!-- Bootstrap CSS (Cloudflare CDN) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css"
          integrity="sha512-T584yQ/tdRR5QwOpfvDfVQUidzfgc2339Lc8uBDtcp/wYu80d7jwBgAxbyMh0a9YM9F8N3tdErpFI8iaGx6x5g=="
          crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- jQuery (Cloudflare CDN) -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
            integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap Bundle JS (Cloudflare CDN) -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.min.js"
            integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Users</title>
</head>

<body>
<div class=".container-fluid">
    <!--    Самый верх-->
    <div class="p-3 mb-2 bg-dark text-white">
        <div class="row">
            <div class="col-sm-8">
                <a th:text="${userAuth.getEmail()}" class="fw-bolder text-white bg-dark "></a>
                <span class="text-start">with roles:
                    <a th:each="role : ${userAuth.getRoles()}" th:text="${role}"></a>
                </span>
            </div>
            <div class="col-sm-4">
                <form action="/logout" method="post">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="text-muted btn btn-dark" type="submit">Logout</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class=".container-fluid">
    <!-- Content here -->
    <div class="row">

        <div class="col-2">
            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist">
                <a class="nav-link active" id="v-pills-tab1-tab" data-toggle="pill" href="#v-pills-tab1" role="tab"
                   aria-controls="v-pills-tab1" aria-expanded="true">ADMIN</a>
                <a class="nav-link" id="v-pills-tab2-tab" data-toggle="pill" href="#v-pills-tab2" role="tab"
                   aria-controls="v-pills-tab2" aria-expanded="true">USER</a>
            </div>
        </div>

        <div class="col-10">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-tab1" role="tabpanel"
                     aria-labelledby="v-pills-home-tab"><h2>Admin panel</h2>
                    <nav>
                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                            <a class="nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home"
                               role="tab" aria-controls="nav-home" aria-selected="true">User table</a>
                            <a class="nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile"
                               role="tab" aria-controls="nav-profile" aria-selected="false">New User</a>
                        </div>
                    </nav>

<!--                выводим всех юзеров-->
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                             aria-labelledby="nav-home-tab">
                            <div class="card">
                                <h5 class="card-header">All users</h5>
                                <div class="card-body">
                                    <table class="table table-striped">
                                        <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>First name</th>
                                            <th>Last name</th>
                                            <th>E-mail</th>
                                            <!--                                        <th>Password</th>-->
                                            <th>ROLE</th>
                                            <th>Edit</th>
                                            <th>Delete</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="user : ${userList}">
                                            <td th:text="${user.id}"></td>
                                            <td th:text="${user.firstName}"></td>
                                            <td th:text="${user.lastName}"></td>
                                            <td th:text="${user.email}"></td>
                                            <td th:text="${user.roles}"></td>

<!--                                            конпки edit и delete-->
                                            <td>
                                                <a class="btn btn-info" th:href="@{user-update/{id}(id=${user.id})}"
                                                   type="submit">Edit</a>
                                            </td>
                                            <td>
                                                <form th:method="DELETE"
                                                      th:action="@{user-delete/{id}(id=${user.getId()})}">
                                                    <button type="submit" class="btn btn-danger">Delete</button>
                                                </form>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>

<!--                    создаем нового юсера-->
                        <div class="tab-pane fade" id="nav-profile" role="tabpanel"
                             aria-labelledby="nav-profile-tab">
                            <div class="card">
                                <h5 class="card-header">Add new user</h5>
                                <div class="card-body">
<!--                                    /admin/users-->
                                    <form th:method="POST" th:action="@{/admin}" th:object="${user}" >


                                        <div class="form-group col-md-3">
                                            <label for="firstName">First name</label>
                                            <input type="text" class="form-control"  id="firstName"
                                                   aria-label="Small" aria-describedby="inputGroup-sizing-sm" placeholder="Введите имя">
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label for="lastName">Last name</label>
                                            <input type="text" class="form-control" id="lastName" placeholder="Введите фамилию">
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label for="password">Password</label>
                                            <input type="password" class="form-control" id="password" placeholder="Введите пароль">
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label for="email">Email</label>
                                            <input type="email" class="form-control" id="email" placeholder="Введите Email">
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label for="role">Role</label>
                                            <select class="form-control" id="role">
                                                <option>1</option>
                                                <option>2</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <button type="submit" class="btn btn-success">Add new user</button>
                                        </div>
                                    </form>


                                </div>
                            </div>
                        </div>

                    </div>


                </div>

                <div class="tab-pane fade" id="v-pills-tab2" role="tabpanel"
                     aria-labelledby="v-pills-tab2-tab"><h2>User information-page</h2>
                </div>
            </div>

        </div>
    </div>
</div>


<!--<div class="tab-content" id="myTabContent1">-->
<!--    <div class="tab-pane fade show active" id="admin" role="tabpanel" aria-labelledby="nav-admin-tab">-->
<!--        <div th:switch="${userList}">-->
<!--            <h2 th:case="null">No users found!</h2>-->
<!--            <div th:case="*">-->
<!--                <h2>Users</h2>-->
<!--                <table>-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th>Id</th>-->
<!--                        <th>First name</th>-->
<!--                        <th>Last name</th>-->
<!--                        <th>E-mail</th>-->
<!--                        <th>Password</th>-->
<!--                        <th>ROLE</th>-->

<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="user : ${userList}">-->
<!--                        <td th:text="${user.id}"></td>-->
<!--                        <td th:text="${user.firstName}"></td>-->
<!--                        <td th:text="${user.lastName}"></td>-->
<!--                        <td th:text="${user.email}"></td>-->
<!--                        <td th:text="${user.password}"></td>-->
<!--                        <td th:text="${user.roles}"></td>-->

<!--                        <td><a th:href="@{user-update/{id}(id=${user.id})}">Edit</a></td>-->
<!--                        <td>-->
<!--                            <form th:method="DELETE" th:action="@{user-delete/{id}(id=${user.getId()})}">-->
<!--                                <input type="submit" value="Delete"/>-->
<!--                            </form>-->
<!--                    </tr>-->
<!--                    </tbody>-->

<!--                </table>-->
<!--            </div>-->
<!--            <p><a href="/admin/user-create">Create user</a></p>-->

<!--        </div>-->
<!--    </div>-->
<!--</div>-->


</body>
</html>





